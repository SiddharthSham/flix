<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="./js/main.js" defer></script>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      html,
      body {
        height: 100vh;
        width: 100vw;
        overflow: hidden;
      }
      video,
      .curtain {
        height: 100vh;
        width: 100vw;
        background-color: black;
      }
      .plyr--video {
        height: 100vh;
      }
      .curtain {
        display: grid;
        place-items: center;
        position: fixed;
        top: 0;
        left: 0;
        z-index: 10;
        opacity: 1;
      }
      .outro {
        transition: opacity 1s ease-out;
        opacity: 0;
      }
      button {
        padding: 0.5rem 1rem;
        border-radius: 5px;
        outline: none;
        margin: none;
        border: none;
        background: #196ddc;
        color: white;
        font-family: monospace;
        font-size: calc(1.5rem + 0.75vw);
        cursor: pointer;
      }
      button:hover {
        transition: background 400ms ease-out;
        background-color: #207eed;
      }
    </style>
    <link rel="stylesheet" href="./css/style.css" />
    <title>Coolflix</title>
  </head>

  <body>
    <div id="curtain" class="curtain">
      <button id="entry">Grab your popcorn!</button>
    </div>
    <main>
      <video id="video" controls preload="auto">
        <source type="video/mp4" />
        <track label="English" kind="subtitles" srclang="en" default />
      </video>
    </main>

    <script>
      const v = document.getElementById("video");
      v.querySelectorAll("source").forEach((el) => {
        el.src = "/stream";
      });
      v.querySelector("track").src = "/subs";
      const curtain = document.getElementById("curtain");
      const entry = document.getElementById("entry");
      entry.addEventListener(
        "click",
        () => {
          curtain.classList.add("outro");
          curtain.style.pointerEvents = "none";
        },
        {
          once: true,
        }
      );
    </script>
  </body>
</html>
